@extends('layouts.app')

@section('title', 'IP Vulnerability Scanner')

@section('content')

    <body class="bg-gray-100 text-gray-800">
        <div class="container mx-auto py-10">
            <h1 class="text-3xl font-bold text-center mb-8">Malware Trends Tracker</h1>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                @foreach ($malware_data as $malware)
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h2 class="text-xl font-semibold mb-4">{{ $malware['name'] }}</h2>
                        <div class="text-lg font-bold mb-3">Type: {{ $malware['type'] }}</div>

                        <div class="w-full h-2 bg-gradient-to-r from-blue-500 to-green-500 rounded-full mb-4"></div>

                        <div class="text-lg mb-4">
                            @php
                                // Asumsi ada field `previous_rank` yang menyimpan rank sebelumnya
                                $rankChanged = $malware['previous_rank'] ?? $malware['rank'];
                            @endphp

                            @if ($malware['rank'] < $rankChanged)
                                <span class="text-red-500 font-bold">↓</span> Rank: {{ $malware['rank'] }}
                            @elseif ($malware['rank'] > $rankChanged)
                                <span class="text-green-500 font-bold">↑</span> Rank: {{ $malware['rank'] }}
                            @else
                                Rank: {{ $malware['rank'] }}
                            @endif
                        </div>

                        <a href="{{ route('malware.detail', ['name' => $malware['name']]) }}"
                            class="block bg-blue-600 text-white text-center py-2 px-4 rounded hover:bg-blue-700">View
                            Details</a>
                    </div>
                @endforeach
            </div>
        </div>

        <script>
            // Additional scripts if needed
        </script>
    </body>
@endsection
